{"ast":null,"code":"import { CREATE_ACCOUNT, LOG_IN, LOG_OUT, LOG_IN_GOOGLE, LOGIN_SUCCESS, ADD_FAVOURITE, REM_FAVOURITE } from './types';\nimport axios from 'axios';\nexport const addFavourite = data => async dispatch => {\n  await axios.post('http://localhost:5000/users/newFavourite', data).then(res => dispatch({\n    type: ADD_FAVOURITE,\n    payload: res.data\n  })).catch(err => console.log(err));\n};\nexport const remFavourite = data => async dispatch => {\n  await axios.post('http://localhost:5000/users/removeFavourite', data).then(res => dispatch({\n    type: REM_FAVOURITE,\n    payload: res.data\n  })).catch(err => console.log(err));\n};\nexport const createAccount = userData => async dispatch => {\n  console.log(userData);\n  await axios.post('http://localhost:5000/users/signup', userData).then(res => dispatch({\n    type: CREATE_ACCOUNT,\n    payload: res.data\n  })).catch(err => console.log(err));\n};\nexport const logIn = userData => async dispatch => {\n  await axios.post('http://localhost:5000/users/login', userData).then(res => {\n    dispatch({\n      type: LOG_IN,\n      payload: res\n    });\n  });\n};\nexport const logInGoogle = userData => async dispatch => {\n  dispatch({\n    type: LOG_IN_GOOGLE,\n    payload: userData\n  });\n};\nexport const logOut = () => async dispatch => {\n  console.log(\"LOGOUT\");\n  dispatch({\n    type: LOG_OUT\n  });\n}; //RECIBE TOKEN, LO MANDA AL BACK PARA COMPROBAR Y TRAE USUARIO QUE LE PERTENEZCA TOKEN\n\nexport const IdentifyUser = token => async dispatch => {\n  await axios.get('http://localhost:5000/users/identifyuser', {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: \"Bearer \".concat(token)\n    }\n  }).then(({\n    data\n  }) => {\n    console.log(data);\n    console.log(token);\n    const user = {\n      user: data.data,\n      token: token\n    };\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: user\n    });\n  }).catch(err => {\n    console.log(err);\n  }); //User Loading\n  //     dispatch({\n  //       type: USER_LOADING\n  //     });\n  //     try {\n  //       const { data, status } = await axios.get(\n  //         'http://localhost/5001/api/users/user',\n  //         tokenConfig(getState)\n  //       );\n  //       dispatch({\n  //         type: USER_LOADED,\n  //         payload: data\n  //       });\n  //     } catch (error) {\n  //       dispatch(returnErrors(error.response.data, error.response.status));\n  //       dispatch({\n  //         type: AUTH_ERROR\n  //       });\n  //     }\n};","map":{"version":3,"sources":["C:/Users/SebastianOtero/Documents/Mindhub/ItineraryApp/client/src/actions/userActions.js"],"names":["CREATE_ACCOUNT","LOG_IN","LOG_OUT","LOG_IN_GOOGLE","LOGIN_SUCCESS","ADD_FAVOURITE","REM_FAVOURITE","axios","addFavourite","data","dispatch","post","then","res","type","payload","catch","err","console","log","remFavourite","createAccount","userData","logIn","logInGoogle","logOut","IdentifyUser","token","get","headers","Authorization","user"],"mappings":"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","sourcesContent":["import { CREATE_ACCOUNT, LOG_IN, LOG_OUT, LOG_IN_GOOGLE, LOGIN_SUCCESS,\r\n        ADD_FAVOURITE, REM_FAVOURITE } from './types';\r\nimport axios from 'axios';\r\n\r\nexport const addFavourite = (data) => async dispatch => {\r\n    await axios\r\n        .post('http://localhost:5000/users/newFavourite', data)\r\n        .then( res => dispatch({\r\n            type: ADD_FAVOURITE,\r\n            payload: res.data\r\n        }))\r\n        .catch( (err) => console.log(err))\r\n}\r\n\r\nexport const remFavourite = (data) => async dispatch => {\r\n    await axios\r\n        .post('http://localhost:5000/users/removeFavourite', data)\r\n        .then( res => dispatch({\r\n            type: REM_FAVOURITE,\r\n            payload: res.data\r\n        }))\r\n        .catch( (err) => console.log(err))\r\n}\r\n\r\nexport const createAccount = (userData) => async dispatch => {\r\n    console.log(userData);\r\n    await axios\r\n        .post('http://localhost:5000/users/signup', userData)\r\n        .then( res => dispatch({\r\n            type: CREATE_ACCOUNT,\r\n            payload: res.data\r\n        }))\r\n        .catch( (err) => console.log(err))\r\n}\r\n\r\nexport const logIn = (userData) => async dispatch => {\r\n    await axios\r\n        .post('http://localhost:5000/users/login', userData)\r\n        .then( res => {\r\n            dispatch({ \r\n            type: LOG_IN, \r\n            payload: res\r\n        })})\r\n}\r\n\r\nexport const logInGoogle = (userData) => async dispatch => {\r\n        dispatch({\r\n            type: LOG_IN_GOOGLE,\r\n            payload: userData\r\n        })\r\n}\r\n\r\nexport const logOut = () => async dispatch => { console.log(\"LOGOUT\");\r\n    dispatch({\r\n        type: LOG_OUT\r\n    })\r\n}\r\n\r\n//RECIBE TOKEN, LO MANDA AL BACK PARA COMPROBAR Y TRAE USUARIO QUE LE PERTENEZCA TOKEN\r\nexport const IdentifyUser = (token) => async dispatch => {\r\n    await axios\r\n        .get('http://localhost:5000/users/identifyuser',\r\n        {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n        })\r\n        .then( ({data})=> {\r\n            console.log(data);\r\n            console.log(token);\r\n            const user = {\r\n                user: data.data,\r\n                token: token\r\n            }\r\n            dispatch({\r\n                type: LOGIN_SUCCESS,\r\n                payload: user\r\n            });\r\n        })\r\n        .catch( (err) => {\r\n            console.log(err);\r\n        })\r\n    \r\n    //User Loading\r\n//     dispatch({\r\n//       type: USER_LOADING\r\n//     });\r\n  \r\n//     try {\r\n//       const { data, status } = await axios.get(\r\n//         'http://localhost/5001/api/users/user',\r\n//         tokenConfig(getState)\r\n//       );\r\n//       dispatch({\r\n//         type: USER_LOADED,\r\n//         payload: data\r\n//       });\r\n//     } catch (error) {\r\n//       dispatch(returnErrors(error.response.data, error.response.status));\r\n//       dispatch({\r\n//         type: AUTH_ERROR\r\n//       });\r\n//     }\r\n  };"]},"metadata":{},"sourceType":"module"}