{"ast":null,"code":"import { GET_CITIES, DATA_LOADING, GET_ITINERARIES } from './types';\nimport axios from 'axios';\naxios.defaults.headers.common['Authorization'] = localStorage.getItem(\"token\");\naxios.interceptors.request.use(function (config) {\n  const token = localStorage.getItem(\"token\");\n  config.headers.Authorization = token;\n  return config;\n});\nexport const getCities = () => async dispatch => {\n  dispatch(citiesLoading());\n  console.log(axios.headers);\n  await axios.get('http://localhost:5000/cities/all').then(res => dispatch({\n    type: GET_CITIES,\n    payload: res.data\n  }));\n};\nexport const citiesLoading = () => {\n  return {\n    type: DATA_LOADING\n  };\n};\nexport const getItineraries = cityId => async dispatch => {\n  dispatch(itinerariesLoading(cityId));\n  await axios.get('http://localhost:5000/itineraries/' + cityId).then(res => dispatch({\n    type: GET_ITINERARIES,\n    payload: res.data\n  }));\n};\nexport const itinerariesLoading = () => {\n  return {\n    type: DATA_LOADING\n  };\n};","map":{"version":3,"sources":["C:/Users/SebastianOtero/Documents/Mindhub/ItineraryApp/client/src/actions/cityActions.js"],"names":["GET_CITIES","DATA_LOADING","GET_ITINERARIES","axios","defaults","headers","common","localStorage","getItem","interceptors","request","use","config","token","Authorization","getCities","dispatch","citiesLoading","console","log","get","then","res","type","payload","data","getItineraries","cityId","itinerariesLoading"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,YAArB,EAAmCC,eAAnC,QAA0D,SAA1D;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACAA,KAAK,CAACC,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiDC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAjD;AAEAL,KAAK,CAACM,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAAUC,MAAV,EAAkB;AAC7C,QAAMC,KAAK,GAAGN,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACAI,EAAAA,MAAM,CAACP,OAAP,CAAeS,aAAf,GAAgCD,KAAhC;AAEA,SAAOD,MAAP;AACH,CALD;AAQA,OAAO,MAAMG,SAAS,GAAG,MAAM,MAAMC,QAAN,IAAkB;AAC7CA,EAAAA,QAAQ,CAACC,aAAa,EAAd,CAAR;AAA2BC,EAAAA,OAAO,CAACC,GAAR,CAAYhB,KAAK,CAACE,OAAlB;AAC3B,QAAMF,KAAK,CACNiB,GADC,CACG,kCADH,EAEDC,IAFC,CAEIC,GAAG,IAAIN,QAAQ,CAAC;AAClBO,IAAAA,IAAI,EAAEvB,UADY;AAElBwB,IAAAA,OAAO,EAAEF,GAAG,CAACG;AAFK,GAAD,CAFnB,CAAN;AAMH,CARM;AAUP,OAAO,MAAMR,aAAa,GAAG,MAAM;AAC/B,SAAO;AACHM,IAAAA,IAAI,EAAEtB;AADH,GAAP;AAGH,CAJM;AAMP,OAAO,MAAMyB,cAAc,GAAIC,MAAD,IAAY,MAAMX,QAAN,IAAkB;AACxDA,EAAAA,QAAQ,CAACY,kBAAkB,CAACD,MAAD,CAAnB,CAAR;AACA,QAAMxB,KAAK,CACNiB,GADC,CACG,uCAAuCO,MAD1C,EAEDN,IAFC,CAEIC,GAAG,IAAIN,QAAQ,CAAC;AAClBO,IAAAA,IAAI,EAAErB,eADY;AAElBsB,IAAAA,OAAO,EAAEF,GAAG,CAACG;AAFK,GAAD,CAFnB,CAAN;AAMH,CARM;AAUP,OAAO,MAAMG,kBAAkB,GAAG,MAAM;AACpC,SAAO;AACHL,IAAAA,IAAI,EAAEtB;AADH,GAAP;AAGH,CAJM","sourcesContent":["import { GET_CITIES, DATA_LOADING, GET_ITINERARIES } from './types';\r\nimport axios from 'axios';\r\naxios.defaults.headers.common['Authorization'] = localStorage.getItem(\"token\");\r\n\r\naxios.interceptors.request.use(function (config) {\r\n    const token = localStorage.getItem(\"token\");\r\n    config.headers.Authorization =  token;\r\n\r\n    return config;\r\n});\r\n\r\n\r\nexport const getCities = () => async dispatch => {\r\n    dispatch(citiesLoading()); console.log(axios.headers)\r\n    await axios\r\n        .get('http://localhost:5000/cities/all')\r\n        .then(res => dispatch({\r\n            type: GET_CITIES,\r\n            payload: res.data\r\n        }))\r\n}\r\n\r\nexport const citiesLoading = () => {\r\n    return {\r\n        type: DATA_LOADING \r\n    }\r\n}\r\n\r\nexport const getItineraries = (cityId) => async dispatch => {\r\n    dispatch(itinerariesLoading(cityId));\r\n    await axios\r\n        .get('http://localhost:5000/itineraries/' + cityId)\r\n        .then(res => dispatch({\r\n            type: GET_ITINERARIES,\r\n            payload: res.data\r\n        }))\r\n}\r\n\r\nexport const itinerariesLoading = () => {\r\n    return {\r\n        type: DATA_LOADING \r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}